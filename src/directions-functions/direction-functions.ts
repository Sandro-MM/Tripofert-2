import axios from "axios";
import {getDistance} from "geolib";


const predefinedCities = new Set([
    'Paris',
    'Madrid',
    'Rome',
    "Saint-malo",
    'Saint-Tropez',
    'Strasbourg',
    'Marseille',
    'Metz',
    'Montpellier',
    'Nancy',
    'Nantes',
    'Nice',
    'Nimes',
    'Orléans',
    'Perpignan',
    'Périgueux',
    'Poitiers',
    'Pau',
    'Reims',
    'Rennes',
    'Rouen',
    'Saint-Denis',
    'Saint florent',
    'Tarbes',
    'Touluse',
    'Agen',
    'Ajaccio',
    'Albi',
    'Amiens',
    'Angers',
    'Annecy',
    'Antibes',
    'Arles',
    'Arras',
    'Avignon',
    'Aix-en-provence',
    'Aubagne',
    'Auxerre',
    'Bayonne',
    'Beauvais',
    'Besancon',
    'Biarritz',
    'Blois',
    'Bordeaux',
    'Bourges',
    'Brest',
    'Caen',
    'Calais',
    'Cannes',
    'Carcassonne',
    'Chambery',
    'Clermont-ferrand',
    'Colmar',
    'Dijon',
    'Dunkirk',
    'Foix',
    'Fontainebleau',
    'Grenoble',
    'Hyeres',
    'La Rochelle',
    'Le Havre',
    'Le Mans',
    'Le-puy-en-velay',
    'Lille',
    'Limoges',
    'Lyon',
    'Mâcon',
    'Segovia',
    'A Coruña',
    'Alava',
    'Albacete',
    'Alicante',
    'Almería',
    'Asturias',
    'Avila',
    'Badajoz',
    'Barcelona',
    'Burgos',
    'Cáceres',
    'Cádiz',
    'Cantabria',
    'Castellón',
    'Ceuta',
    'Ciudad Real',
    'Córdoba',
    'Cuenca',
    'Formentera',
    'Girona',
    'Granada',
    'Guadalajara',
    'Guipuzcoa',
    'Huelva',
    'Huesca',
    'Ibiza',
    'Jaén',
    'La Rioja',
    'Las Palmas de Gran Canaria',
    'Gran Canaria',
    'Fuerteventura',
    'Lanzarote',
    'León',
    'Lérida',
    'Lugo',
    'Málaga',
    'Mallorca',
    'Menorca',
    'Murcia',
    'Navarra',
    'Orense',
    'Palencia',
    'Pontevedra',
    'Salamanca',
    'Santa Cruz de Tenerife',
    'Tenerife',
    'La Gomera',
    'La Palma',
    'El Hierro',
    'Sevilla',
    'Soria',
    'Tarragona',
    'Teruel',
    'Toledo',
    'Valencia',
    'Valladolid',
    'Vizcaya',
    'Zamora',
    'Zaragoza',
    'Andorra la Vella',
    'San Sebastián',
    'Pamplona',
    'Huesca',
    'Zaragoza',
    'Puigcerdà',
    'Bilbao',
    'Vitoria-Gasteiz',
    'Santander',
    'Burgos',
    'Logroño',
    'Gijón',
    'Oviedo',
    'León',
    'Valladolid',
    'Segovia',
    'Toledo',
    'Albacete',
    'Valencia',
    'Alicante',
    'Murcia',
    'Cartagena',
    'Almería',
    'Granada',
    'Málaga',
    'Marbella',
    'Cádiz',
    'Sevilla',
    'Lagos',
    'Córdoba',
    'Jaén',
    'Huelva',
    'Salamanca',
    'Girona',
    'Banyoles',
    'Vic',
    'Olot',
    'Granollers',
    'Terrassa',
    'Manresa',
    'Sabadell',
    'Lleida',
    'Andorra la Vella',
    'Badalona',
    'Premià de Mar',
    'Mataró',
    'Vilassar de Mar',
    'Mataró',
    'Arenys de Mar',
    'Canet de Mar',
    'Sant Pol de Mar',
    'Calella',
    'Pineda de Mar',
    'Santa Susanna',
    'Malgrat de Mar',
    'Blanes',
    'Lloret de Mar',
    'Tossa de Mar',
    'Sant Feliu de Guíxols',
    'S’Agaró',
    'Platja d’Aro',
    'Sant Antoni de Calonge',
    'Palamós',
    'Calella de Palafrugell',
    'Tamariu',
    'Begur',
    'Mas Pinell',
    'L’Estartit',
    'L’Escala',
    'Empuriabrava',
    'Roses',
    'Cadaqués',
    'Figueres',
    'Castelldefels',
    'Sitges',
    'Vilanova i la Geltrú',
    'Calafell',
    'Torredembarra',
    'Tarragona',
    'La Pineda',
    'Salou',
    'Cambrils',
    'Miami Playa',
    'L’Ametlla de Mar',
    'L’Ampolla',
    'La Ràpita',
    'Vinaròs',
    'Benicarló',
    'Oropesa del Mar',
    'Benicàssim',
    'Castelló de la Plana',
    'Burriana'
]);

export interface searchPlaceInterface {"id": number, "name": string, "country"?: string, "latitude"?: number, "longitude"?: number}


export const cities = [
    {"id": 1, "name": "Paris", "country": "France", "latitude": 48.8566, "longitude": 2.3522},
    {"id": 2, "name": "Madrid", "country": "Spain", "latitude": 40.4168, "longitude": -3.7038},
    {"id": 4, "name": "Saint-Malo", "country": "France", "latitude": 48.6493, "longitude": -2.0257},
    {"id": 232, "name": "Aveiro", "country": "Portugal", "latitude": 40.6443, "longitude": -8.6455},
    {"id": 233, "name": "Braga", "country": "Portugal", "latitude": 41.5503, "longitude": -8.4200},
    {"id": 234, "name": "Guimaraes", "country": "Portugal", "latitude": 41.4418, "longitude": -8.2956},
    {"id": 235, "name": "Viseu", "country": "Portugal", "latitude": 40.6610, "longitude": -7.9097},
    {"id": 236, "name": "Faro", "country": "Portugal", "latitude": 37.0194, "longitude": -7.9304},
    {"id": 237, "name": "Castillo de los Moros", "country": "Spain", "latitude": 37.5971, "longitude": -1.0276},
    {"id": 238, "name": "Oporto", "country": "Portugal", "latitude": 41.1496, "longitude": -8.6109},
    {"id": 8, "name": "Metz", "country": "France", "latitude": 49.1193, "longitude": 6.1757},
    {"id": 9, "name": "Montpellier", "country": "France", "latitude": 43.6108, "longitude": 3.8767},
    {"id": 10, "name": "Nancy", "country": "France", "latitude": 48.6921, "longitude": 6.1844},
    {"id": 11, "name": "Nantes", "country": "France", "latitude": 47.2184, "longitude": -1.5536},
    {"id": 12, "name": "Nice", "country": "France", "latitude": 43.7102, "longitude": 7.2620},
    {"id": 13, "name": "Nimes", "country": "France", "latitude": 43.8367, "longitude": 4.3601},
    {"id": 14, "name": "Orléans", "country": "France", "latitude": 47.9020, "longitude": 1.9093},
    {"id": 15, "name": "Perpignan", "country": "France", "latitude": 42.6887, "longitude": 2.8948},
    {"id": 16, "name": "Perigueux", "country": "France", "latitude": 45.1845, "longitude": 0.7217},
    {"id": 17, "name": "Poitiers", "country": "France", "latitude": 46.5802, "longitude": 0.3404},
    {"id": 165, "name": "Granollers", "country": "Spain", "latitude": 41.6097, "longitude": 2.2879},
    {"id": 166, "name": "Terrassa", "country": "Spain", "latitude": 41.5611, "longitude": 2.0088},
    {"id": 167, "name": "Manresa", "country": "Spain", "latitude": 41.7288, "longitude": 1.8239},
    {"id": 168, "name": "Sabadell", "country": "Spain", "latitude": 41.5483, "longitude": 2.1071},
    {"id": 169, "name": "Lleida", "country": "Spain", "latitude": 41.6176, "longitude": 0.6200},
    {"id": 170, "name": "Andorra la Vella", "country": "Andorra", "latitude": 42.5078, "longitude": 1.5211},
    {"id": 5, "name": "Saint-Tropez", "country": "France", "latitude": 43.2674, "longitude": 6.6407},
    {"id": 6, "name": "Strasbourg", "country": "France", "latitude": 48.5734, "longitude": 7.7521},
    {"id": 7, "name": "Marseille", "country": "France", "latitude": 43.2965, "longitude": 5.3698},
    {"id": 18, "name": "Pau", "country": "France", "latitude": 43.2951, "longitude": -0.3708},
    {"id": 19, "name": "Reims", "country": "France", "latitude": 49.2583, "longitude": 4.0317},
    {"id": 20, "name": "Rennes", "country": "France", "latitude": 48.1173, "longitude": -1.6778},
    {"id": 21, "name": "Rouen", "country": "France", "latitude": 49.4432, "longitude": 1.0993},
    {"id": 22, "name": "Saint-Denis", "country": "France", "latitude": 48.9362, "longitude": 2.3574},
    {"id": 23, "name": "Saint Florent", "country": "France", "latitude": 42.6817, "longitude": 9.3054},
    {"id": 24, "name": "Tarbes", "country": "France", "latitude": 43.2328, "longitude": 0.0722},
    {"id": 25, "name": "Toulouse", "country": "France", "latitude": 43.6045, "longitude": 1.4442},
    {"id": 26, "name": "Agen", "country": "France", "latitude": 44.2049, "longitude": 0.6163},
    {"id": 27, "name": "Ajaccio", "country": "France", "latitude": 41.9192, "longitude": 8.7386},
    {"id": 28, "name": "Albi", "country": "France", "latitude": 43.9298, "longitude": 2.148},
    {"id": 29, "name": "Amiens", "country": "France", "latitude": 49.8941, "longitude": 2.2951},
    {"id": 30, "name": "Angers", "country": "France", "latitude": 47.4784, "longitude": -0.5632},
    {"id": 31, "name": "Annecy", "country": "France", "latitude": 45.8992, "longitude": 6.1294},
    {"id": 32, "name": "Antibes", "country": "France", "latitude": 43.5804, "longitude": 7.1251},
    {"id": 33, "name": "Arles", "country": "France", "latitude": 43.6768, "longitude": 4.627},
    {"id": 34, "name": "Arras", "country": "France", "latitude": 50.292, "longitude": 2.7775},
    {"id": 35, "name": "Avignon", "country": "France", "latitude": 43.9493, "longitude": 4.8055},
    {"id": 36, "name": "Aix-en-Provence", "country": "France", "latitude": 43.5297, "longitude": 5.4474},
    {"id": 37, "name": "Aubagne", "country": "France", "latitude": 43.2923, "longitude": 5.5708},
    {"id": 38, "name": "Auxerre", "country": "France", "latitude": 47.7982, "longitude": 3.5678},
    {"id": 39, "name": "Bayonne", "country": "France", "latitude": 43.4929, "longitude": -1.4748},
    {"id": 40, "name": "Beauvais", "country": "France", "latitude": 49.4294, "longitude": 2.0886},
    {"id": 41, "name": "Besancon", "country": "France", "latitude": 47.2378, "longitude": 6.0241},
    {"id": 42, "name": "Biarritz", "country": "France", "latitude": 43.4832, "longitude": -1.5586},
    {"id": 43, "name": "Blois", "country": "France", "latitude": 47.5861, "longitude": 1.3359},
    {"id": 44, "name": "Bordeaux", "country": "France", "latitude": 44.8378, "longitude": -0.5792},
    {"id": 45, "name": "Bourges", "country": "France", "latitude": 47.081, "longitude": 2.3988},
    {"id": 46, "name": "Brest", "country": "France", "latitude": 48.3904, "longitude": -4.4861},
    {"id": 47, "name": "Caen", "country": "France", "latitude": 49.1829, "longitude": -0.3707},
    {"id": 48, "name": "Calais", "country": "France", "latitude": 50.9513, "longitude": 1.8587},
    {"id": 49, "name": "Cannes", "country": "France", "latitude": 43.5528, "longitude": 7.0174},
    {"id": 50, "name": "Carcassonne", "country": "France", "latitude": 43.2124, "longitude": 2.3537},
    {"id": 51, "name": "Chambery", "country": "France", "latitude": 45.5646, "longitude": 5.9178},
    {"id": 52, "name": "Clermont-Ferrand", "country": "France", "latitude": 45.7772, "longitude": 3.087},
    {"id": 53, "name": "Colmar", "country": "France", "latitude": 48.079, "longitude": 7.3585},
    {"id": 54, "name": "Dijon", "country": "France", "latitude": 47.322, "longitude": 5.0415},
    {"id": 55, "name": "Dunkirk", "country": "France", "latitude": 51.0344, "longitude": 2.3768},
    {"id": 56, "name": "Foix", "country": "France", "latitude": 42.967, "longitude": 1.6055},
    {"id": 57, "name": "Fontainebleau", "country": "France", "latitude": 48.403, "longitude": 2.7016},
    {"id": 58, "name": "Grenoble", "country": "France", "latitude": 45.1885, "longitude": 5.7245},
    {"id": 59, "name": "Hyeres", "country": "France", "latitude": 43.1179, "longitude": 6.1286},
    {"id": 60, "name": "La Rochelle", "country": "France", "latitude": 46.1591, "longitude": -1.1511},
    {"id": 61, "name": "Le Havre", "country": "France", "latitude": 49.4944, "longitude": 0.1079},
    {"id": 62, "name": "Le Mans", "country": "France", "latitude": 48.0061, "longitude": 0.1996},
    {"id": 63, "name": "Le Puy-en-Velay", "country": "France", "latitude": 45.0434, "longitude": 3.885},
    {"id": 64, "name": "Lille", "country": "France", "latitude": 50.6292, "longitude": 3.0573},
    {"id": 65, "name": "Limoges", "country": "France", "latitude": 45.8336, "longitude": 1.2611},
    {"id": 66, "name": "Lyon", "country": "France", "latitude": 45.764, "longitude": 4.8357},
    {"id": 67, "name": "Mâcon", "country": "France", "latitude": 46.3066, "longitude": 4.8287},
    {"id": 68, "name": "Segovia", "country": "Spain", "latitude": 40.9429, "longitude": -4.108},
    {"id": 69, "name": "A Coruña", "country": "Spain", "latitude": 43.3623, "longitude": -8.4115},
    {"id": 70, "name": "Alava", "country": "Spain", "latitude": 42.8514, "longitude": -2.6691},
    {"id": 71, "name": "Albacete", "country": "Spain", "latitude": 38.9943, "longitude": -1.8585},
    {"id": 72, "name": "Alicante", "country": "Spain", "latitude": 38.3452, "longitude": -0.481},
    {"id": 73, "name": "Almería", "country": "Spain", "latitude": 36.834, "longitude": -2.4637},
    {"id": 74, "name": "Asturias", "country": "Spain", "latitude": 43.3614, "longitude": -5.8593},
    {"id": 75, "name": "Avila", "country": "Spain", "latitude": 40.6565, "longitude": -4.6816},
    {"id": 76, "name": "Badajoz", "country": "Spain", "latitude": 38.8794, "longitude": -6.9706},
    {"id": 77, "name": "Barcelona", "country": "Spain", "latitude": 41.3851, "longitude": 2.1734},
    {"id": 78, "name": "Burgos", "country": "Spain", "latitude": 42.3439, "longitude": -3.6969},
    {"id": 79, "name": "Caceres", "country": "Spain", "latitude": 39.4699, "longitude": -6.3708},
    {"id": 80, "name": "Cadiz", "country": "Spain", "latitude": 36.5271, "longitude": -6.2886},
    {"id": 81, "name": "Cantabria", "country": "Spain", "latitude": 43.1828, "longitude": -3.9878},
    {"id": 82, "name": "Castellon", "country": "Spain", "latitude": 39.9864, "longitude": -0.0513},
    {"id": 83, "name": "Ceuta", "country": "Spain", "latitude": 35.8894, "longitude": -5.3198},
    {"id": 84, "name": "Ciudad Real", "country": "Spain", "latitude": 38.9848, "longitude": -3.927},
    {"id": 86, "name": "Cuenca", "country": "Spain", "latitude": 40.0704, "longitude": -2.1374},
    {"id": 87, "name": "Formentera", "country": "Spain", "latitude": 38.7069, "longitude": 1.436},
    {"id": 88, "name": "Girona", "country": "Spain", "latitude": 41.9794, "longitude": 2.8214},
    {"id": 89, "name": "Granada", "country": "Spain", "latitude": 37.1773, "longitude": -3.5986},
    {"id": 90, "name": "Guadalajara", "country": "Spain", "latitude": 40.628, "longitude": -3.1618},
    {"id": 91, "name": "Guipuzcoa", "country": "Spain", "latitude": 43.1828, "longitude": -2.3897},
    {"id": 93, "name": "Huesca", "country": "Spain", "latitude": 42.1401, "longitude": -0.4089},
    {"id": 94, "name": "Ibiza", "country": "Spain", "latitude": 38.9067, "longitude": 1.4206},
    {"id": 96, "name": "La Rioja", "country": "Spain", "latitude": 42.2871, "longitude": -2.5396},
    {"id": 97, "name": "Las Palmas de Gran Canaria", "country": "Spain", "latitude": 28.1235, "longitude": -15.4363},
    {"id": 98, "name": "Gran Canaria", "country": "Spain", "latitude": 27.9202, "longitude": -15.5476},
    {"id": 99, "name": "Fuerteventura", "country": "Spain", "latitude": 28.3587, "longitude": -14.0537},
    {"id": 100, "name": "Lanzarote", "country": "Spain", "latitude": 29.0469, "longitude": -13.5899},
    {"id": 101, "name": "Leon", "country": "Spain", "latitude": 42.5987, "longitude": -5.5671},
    {"id": 102, "name": "Lerida", "country": "Spain", "latitude": 41.6148, "longitude": 0.6214},
    {"id": 103, "name": "Lugo", "country": "Spain", "latitude": 43.0121, "longitude": -7.555},
    {"id": 104, "name": "Malaga", "country": "Spain", "latitude": 36.7213, "longitude": -4.4214},
    {"id": 105, "name": "Mallorca", "country": "Spain", "latitude": 39.6953, "longitude": 3.0176},
    {"id": 106, "name": "Menorca", "country": "Spain", "latitude": 39.9496, "longitude": 4.1109},
    {"id": 107, "name": "Murcia", "country": "Spain", "latitude": 37.9922, "longitude": -1.1307},
    {"id": 108, "name": "Navarra", "country": "Spain", "latitude": 42.6954, "longitude": -1.6761},
    {"id": 109, "name": "Orense", "country": "Spain", "latitude": 42.3344, "longitude": -7.8639},
    {"id": 110, "name": "Palencia", "country": "Spain", "latitude": 42.0096, "longitude": -4.527},
    {"id": 111, "name": "Pontevedra", "country": "Spain", "latitude": 42.431, "longitude": -8.6444},
    {"id": 113, "name": "Santa Cruz de Tenerife", "country": "Spain", "latitude": 28.4636, "longitude": -16.2518},
    {"id": 114, "name": "Tenerife", "country": "Spain", "latitude": 28.2916, "longitude": -16.6291},
    {"id": 115, "name": "La Gomera", "country": "Spain", "latitude": 28.101, "longitude": -17.1487},
    {"id": 116, "name": "La Palma", "country": "Spain", "latitude": 28.6846, "longitude": -17.7647},
    {"id": 117, "name": "El Hierro", "country": "Spain", "latitude": 27.7462, "longitude": -18.0204},
    {"id": 118, "name": "Sevilla", "country": "Spain", "latitude": 37.3886, "longitude": -5.9823},
    {"id": 119, "name": "Soria", "country": "Spain", "latitude": 41.7636, "longitude": -2.4645},
    {"id": 120, "name": "Tarragona", "country": "Spain", "latitude": 41.1189, "longitude": 1.2451},
    {"id": 121, "name": "Teruel", "country": "Spain", "latitude": 40.3438, "longitude": -1.1065},
    {"id": 122, "name": "Toledo", "country": "Spain", "latitude": 39.8628, "longitude": -4.0273},
    {"id": 123, "name": "Valencia", "country": "Spain", "latitude": 39.4699, "longitude": -0.3763},
    {"id": 124, "name": "Valladolid", "country": "Spain", "latitude": 41.6523, "longitude": -4.7245},
    {"id": 125, "name": "Vizcaya", "country": "Spain", "latitude": 43.251, "longitude": -2.9263},
    {"id": 126, "name": "Zamora", "country": "Spain", "latitude": 41.5033, "longitude": -5.7441},
    {"id": 127, "name": "Zaragoza", "country": "Spain", "latitude": 41.649, "longitude": -0.8859},
    {"id": 128, "name": "Andorra la Vella", "country": "Andorra", "latitude": 42.5078, "longitude": 1.5211},
    {"id": 129, "name": "San Sebastián", "country": "Spain", "latitude": 43.3183, "longitude": -1.9812},
    {"id": 130, "name": "Pamplona", "country": "Spain", "latitude": 42.8125, "longitude": -1.6458},
    {"id": 133, "name": "Puigcerdà", "country": "Spain", "latitude": 42.4317, "longitude": 1.928},
    {"id": 134, "name": "Bilbao", "country": "Spain", "latitude": 43.263, "longitude": -2.935},
    {"id": 135, "name": "Vitoria-Gasteiz", "country": "Spain", "latitude": 42.8469, "longitude": -2.6735},
    {"id": 136, "name": "Santander", "country": "Spain", "latitude": 43.4623, "longitude": -3.8099},
    {"id": 138, "name": "Logroño", "country": "Spain", "latitude": 42.4627, "longitude": -2.4445},
    {"id": 139, "name": "Gijon", "country": "Spain", "latitude": 43.5322, "longitude": -5.6611},
    {"id": 140, "name": "Oviedo", "country": "Spain", "latitude": 43.3619, "longitude": -5.8494},
    {"id": 149, "name": "Cartagena", "country": "Spain", "latitude": 37.6257, "longitude": -0.9966},
    {"id": 153, "name": "Marbella", "country": "Spain", "latitude": 36.5099, "longitude": -4.8851},
    {"id": 156, "name": "Lagos", "country": "Spain", "latitude": 37.102, "longitude": -8.6742},
    {"id": 157, "name": "Córdoba", "country": "Spain", "latitude": 37.8882, "longitude": -4.7794},
    {"id": 158, "name": "Jaen", "country": "Spain", "latitude": 37.7796, "longitude": -3.7849},
    {"id": 159, "name": "Huelva", "country": "Spain", "latitude": 37.2614, "longitude": -6.9447},
    {"id": 160, "name": "Salamanca", "country": "Spain", "latitude": 40.9701, "longitude": -5.6635},
    {"id": 161, "name": "Girona", "country": "Spain", "latitude": 41.9794, "longitude": 2.8214},
    {"id": 162, "name": "Banyoles", "country": "Spain", "latitude": 42.1161, "longitude": 2.7631},
    {"id": 163, "name": "Vic", "country": "Spain", "latitude": 41.9302, "longitude": 2.2545},
    {"id": 164, "name": "Olot", "country": "Spain", "latitude": 42.1833, "longitude": 2.4881},
    {"id": 171, "name": "Badalona", "country": "Spain", "latitude": 41.4469, "longitude": 2.2450},
    {"id": 172, "name": "Premia de Mar", "country": "Spain", "latitude": 41.4934, "longitude": 2.3642},
    {"id": 173, "name": "Mataro", "country": "Spain", "latitude": 41.5381, "longitude": 2.4445},
    {"id": 174, "name": "Vilassar de Mar", "country": "Spain", "latitude": 41.5073, "longitude": 2.3893},
    {"id": 175, "name": "Arenys de Mar", "country": "Spain", "latitude": 41.5820, "longitude": 2.5488},
    {"id": 176, "name": "Canet de Mar", "country": "Spain", "latitude": 41.5934, "longitude": 2.5805},
    {"id": 177, "name": "Sant Pol de Mar", "country": "Spain", "latitude": 41.6036, "longitude": 2.6172},
    {"id": 178, "name": "Calella", "country": "Spain", "latitude": 41.6142, "longitude": 2.6543},
    {"id": 179, "name": "Pineda de Mar", "country": "Spain", "latitude": 41.6246, "longitude": 2.6850},
    {"id": 180, "name": "Santa Susanna", "country": "Spain", "latitude": 41.6364, "longitude": 2.7104},
    {"id": 181, "name": "Malgrat de Mar", "country": "Spain", "latitude": 41.6465, "longitude": 2.7415},
    {"id": 182, "name": "Blanes", "country": "Spain", "latitude": 41.6755, "longitude": 2.7903},
    {"id": 183, "name": "Lloret de Mar", "country": "Spain", "latitude": 41.7000, "longitude": 2.8451},
    {"id": 184, "name": "Tossa de Mar", "country": "Spain", "latitude": 41.7201, "longitude": 2.9331},
    {"id": 185, "name": "Sant Feliu de Guíxols", "country": "Spain", "latitude": 41.7839, "longitude": 3.0322},
    {"id": 186, "name": "S’Agaro", "country": "Spain", "latitude": 41.7933, "longitude": 3.0551},
    {"id": 187, "name": "Platja d’Aro", "country": "Spain", "latitude": 41.8151, "longitude": 3.0671},
    {"id": 188, "name": "Sant Antoni de Calonge", "country": "Spain", "latitude": 41.8457, "longitude": 3.0834},
    {"id": 189, "name": "Palamos", "country": "Spain", "latitude": 41.8498, "longitude": 3.1295},
    {"id": 190, "name": "Calella de Palafrugell", "country": "Spain", "latitude": 41.8864, "longitude": 3.1783},
    {"id": 191, "name": "Tamariu", "country": "Spain", "latitude": 41.9124, "longitude": 3.2073},
    {"id": 192, "name": "Begur", "country": "Spain", "latitude": 41.9540, "longitude": 3.2090},
    {"id": 193, "name": "Mas Pinell", "country": "Spain", "latitude": 42.0000, "longitude": 3.1533},
    {"id": 194, "name": "L’Estartit", "country": "Spain", "latitude": 42.0517, "longitude": 3.1994},
    {"id": 195, "name": "L’Escala", "country": "Spain", "latitude": 42.1230, "longitude": 3.1322},
    {"id": 196, "name": "Empuriabrava", "country": "Spain", "latitude": 42.2451, "longitude": 3.1137},
    {"id": 197, "name": "Roses", "country": "Spain", "latitude": 42.2616, "longitude": 3.1762},
    {"id": 198, "name": "Cadaqués", "country": "Spain", "latitude": 42.2885, "longitude": 3.2783},
    {"id": 199, "name": "Figueres", "country": "Spain", "latitude": 42.2679, "longitude": 2.9613},
    {"id": 200, "name": "Castelldefels", "country": "Spain", "latitude": 41.2775, "longitude": 1.9803},
    {"id": 201, "name": "Sitges", "country": "Spain", "latitude": 41.2351, "longitude": 1.8114},
    {"id": 202, "name": "Vilanova i la Geltrú", "country": "Spain", "latitude": 41.2225, "longitude": 1.7281},
    {"id": 203, "name": "Calafell", "country": "Spain", "latitude": 41.1989, "longitude": 1.5681},
    {"id": 204, "name": "Torredembarra", "country": "Spain", "latitude": 41.1458, "longitude": 1.4022},
    {"id": 205, "name": "Tarragona", "country": "Spain", "latitude": 41.1189, "longitude": 1.2445},
    {"id": 206, "name": "La Pineda", "country": "Spain", "latitude": 41.0761, "longitude": 1.1918},
    {"id": 207, "name": "Salou", "country": "Spain", "latitude": 41.0767, "longitude": 1.1397},
    {"id": 208, "name": "Cambrils", "country": "Spain", "latitude": 41.0693, "longitude": 1.0603},
    {"id": 209, "name": "Miami Playa", "country": "Spain", "latitude": 41.0021, "longitude": 0.9922},
    {"id": 210, "name": "L’Ametlla de Mar", "country": "Spain", "latitude": 40.8871, "longitude": 0.8007},
    {"id": 211, "name": "L’Ampolla", "country": "Spain", "latitude": 40.8123, "longitude": 0.7102},
    {"id": 212, "name": "La Rapita", "country": "Spain", "latitude": 40.6146, "longitude": 0.6136},
    {"id": 213, "name": "Vinaròs", "country": "Spain", "latitude": 40.4707, "longitude": 0.4720},
    {"id": 214, "name": "Benicarló", "country": "Spain", "latitude": 40.4167, "longitude": 0.4216},
    {"id": 215, "name": "Oropesa del Mar", "country": "Spain", "latitude": 40.1017, "longitude": -0.1412},
    {"id": 216, "name": "Benicassim", "country": "Spain", "latitude": 40.0480, "longitude": -0.0674},
    {"id": 217, "name": "Castelló de la Plana", "country": "Spain", "latitude": 39.9864, "longitude": -0.0513},
    {"id": 218, "name": "Burriana", "country": "Spain", "latitude": 39.8892, "longitude": -0.0840},
    {"id": 219, "name": "Evora", "country": "Portugal", "latitude": 38.5714, "longitude": -7.9135},
    {"id": 220, "name": "Funchal (Madeira)", "country": "Portugal", "latitude": 32.6669, "longitude": -16.9241},
    {"id": 221, "name": "Viana do Castelo", "country": "Portugal", "latitude": 41.6918, "longitude": -8.8345},
    {"id": 222, "name": "Leiria", "country": "Portugal", "latitude": 39.7477, "longitude": -8.8071},
    {"id": 223, "name": "Lagos", "country": "Portugal", "latitude": 37.1020, "longitude": -8.6742},
    {"id": 224, "name": "Albufeira", "country": "Portugal", "latitude": 37.0902, "longitude": -8.2503},
    {"id": 225, "name": "Sines", "country": "Portugal", "latitude": 37.9569, "longitude": -8.8698},
    {"id": 226, "name": "Sintra", "country": "Portugal", "latitude": 38.8029, "longitude": -9.3817},
    {"id": 227, "name": "Coimbra", "country": "Portugal", "latitude": 40.2033, "longitude": -8.4103},
    {"id": 228, "name": "Obidos", "country": "Portugal", "latitude": 39.3607, "longitude": -9.1570},
    {"id": 229, "name": "Nazare", "country": "Portugal", "latitude": 39.6015, "longitude": -9.0706},
    {"id": 230, "name": "Batalha", "country": "Portugal", "latitude": 39.6590, "longitude": -8.8254},
    {"id": 231, "name": "Fatima", "country": "Portugal", "latitude": 39.6254, "longitude": -8.6656},
]


export const getCitiesInRange = (latitude, longitude, range, cities) => {
    if (!latitude || !longitude || !Array.isArray(cities)) {
        console.error("Invalid input values", { latitude, longitude, range, cities });
        return [];
    }

    return cities.filter(city => {
        if (!city.latitude || !city.longitude) {
            console.warn("City has invalid coordinates", city);
            return false;
        }

        // Check if the city's latitude and longitude are the same as the input values
        if (parseFloat(city.latitude) === parseFloat(latitude) && parseFloat(city.longitude) === parseFloat(longitude)) {
            // console.log("City has same coordinates as input values and will be removed", city);
            return false;
        }

        const distance = getDistance(
            { latitude: parseFloat(latitude), longitude: parseFloat(longitude) },
            { latitude: parseFloat(city.latitude), longitude: parseFloat(city.longitude) }
        );

        // console.log(`Distance from ${latitude}, ${longitude} to ${city.latitude}, ${city.longitude}:`, distance);
        // console.log("Is within range:", distance <= range * 1000);

        return distance <= range * 1000;
    });
};


export const priceMap = {
    30: 30,
    60: 48,
    90: 66,
    120: 82,
    150: 100,
    180: 117,
    210: 135,
    240: 153,
};

export const carTypes = {
    Sedan: { costPerKm: 1.21, basePrice: 100 },
    'Premium Sedan': { costPerKm: 1.30, basePrice: 120 },
    Minivan: { costPerKm: 1.75, basePrice: 140 }
};

export const calculatePrice = (distance, carType, stops) => {
    const baseDistance = distance?.value / 1000 - 40;
    let distancePrice = 0;
    if (baseDistance > 0) {
        distancePrice = baseDistance * carTypes[carType]?.costPerKm + carTypes[carType]?.basePrice;
    } else {
        distancePrice = carTypes[carType]?.basePrice;
    }



    let stopsPrice = 0;
    if (stops){
        stops?.forEach(stop => {
            stopsPrice += priceMap[stop?.visitTime] || 0;
        });
    }


    const totalPrice = distancePrice + stopsPrice;

    return {
        distancePrice,
        stopsPrice,
        totalPrice
    };
};

